@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply m-0 min-h-screen p-0 font-['Manrope',system-ui,-apple-system,sans-serif] text-[17px] leading-[1.6] text-text-main;
    background: radial-gradient(circle at 14% 18%, rgba(88, 199, 214, 0.12), transparent 34%),
      radial-gradient(circle at 82% 8%, rgba(94, 234, 212, 0.08), transparent 28%),
      linear-gradient(160deg, rgba(15, 23, 42, 0.08) 0%, rgba(15, 23, 42, 0) 35%), var(--color-bg-main);
  }

  h1,
  h2,
  h3,
  h4 {
    font-family: 'Space Grotesk', 'Manrope', system-ui, sans-serif;
    letter-spacing: -0.01em;
  }
}

@layer components {
  main {
    @apply flex flex-col gap-12;
  }

  .hero {
    @apply relative isolate overflow-visible px-6 pb-[110px] pt-[72px];
  }

  .hero::before,
  .hero::after {
    content: '';
    @apply absolute inset-0 -z-10;
  }

  .hero::before {
    background: radial-gradient(circle at 10% 18%, rgba(88, 199, 214, 0.14), transparent 40%),
      radial-gradient(circle at 82% 30%, rgba(62, 180, 195, 0.18), transparent 32%),
      linear-gradient(135deg, rgba(17, 24, 39, 0.14) 0%, rgba(17, 24, 39, 0) 42%);
    filter: blur(2px);
  }

  .hero::after {
    inset: 0 0 -120px 0;
    @apply opacity-60;
    background: linear-gradient(180deg, rgba(15, 23, 42, 0.18) 0%, rgba(15, 23, 42, 0.08) 62%, rgba(15, 23, 42, 0) 100%);
  }

  .hero-inner {
    @apply mx-auto grid max-w-[1200px] grid-cols-[repeat(auto-fit,minmax(320px,1fr))] items-center gap-[clamp(56px,8vw,108px)];
  }

  .hero-copy {
    @apply flex flex-col gap-[18px];
  }

  .hero-kicker {
    @apply inline-flex items-center gap-[10px] border border-border bg-white/5 px-3 pb-2 pt-[7px] text-[13px] uppercase tracking-[0.06em] text-text-secondary backdrop-blur-md;
    border-radius: 14px 18px 16px 20px;
    transform: rotate(-0.6deg);
  }

  .live-dot {
    @apply h-[10px] w-[10px] rounded-full bg-primary shadow-[0_0_0_8px_rgba(88,199,214,0.18)] animate-pulse-soft;
  }

  .kicker-pill {
    @apply bg-primary-soft px-[10px] py-[6px] font-bold text-primary;
    border-radius: 14px 18px 12px 16px;
  }

  .hero-title {
    @apply m-0 text-[clamp(34px,5vw,56px)] font-bold leading-[1.05] text-text-main;
  }

  .hero-highlight {
    @apply text-primary;
    text-shadow: 0 10px 40px rgba(88, 199, 214, 0.25);
  }

  .hero-description {
    @apply m-0 max-w-[640px] text-lg text-text-secondary;
  }

  .quote-carousel {
    @apply relative mt-1 min-h-24;
  }

  .quote-slide {
    @apply absolute inset-0 m-0 flex h-full flex-col border border-border bg-slate-900/60 px-4 pb-[14px] pt-[14px] opacity-0 shadow-[0_12px_26px_rgba(0,0,0,0.24)] animate-quote-cycle;
    border-radius: 16px 18px 14px 20px;
    transform: translateY(8px);
  }

  .quote-slide:nth-child(2) {
    animation-delay: 4s;
  }

  .quote-slide:nth-child(3) {
    animation-delay: 8s;
  }

  .quote-slide blockquote {
    @apply mb-[6px] mt-0 text-base font-semibold text-text-main;
  }

  .quote-slide figcaption {
    @apply mt-auto pt-2 text-[13px] text-text-muted;
  }

  .hero-ctas {
    @apply flex flex-wrap items-center gap-3;
  }

  .btn {
    @apply cursor-pointer border-[1.5px] border-transparent px-[18px] py-3 font-bold tracking-[0.2px] transition-all duration-200;
    border-radius: 16px 14px 18px 12px;
  }

  .btn-primary {
    @apply bg-gradient-to-r from-primary to-primary-hover text-text-inverse shadow-[0_14px_32px_rgba(88,199,214,0.28)];
  }

  .btn-primary:hover {
    @apply -translate-y-px scale-[1.01] shadow-[0_18px_36px_rgba(88,199,214,0.32)];
  }

  .btn-ghost {
    @apply border-border bg-transparent text-text-main;
  }

  .btn-ghost:hover {
    @apply border-primary text-primary shadow-sm;
  }

  .btn-mini {
    @apply rounded-xl border border-transparent bg-primary-soft px-3 py-[9px] text-primary;
  }

  .btn-mini:hover {
    @apply -translate-y-px border-primary;
  }

  .hero-tags {
    @apply flex flex-wrap gap-x-[18px] gap-y-[10px] text-sm font-semibold text-text-secondary;
  }

  .hero-tag {
    @apply inline-flex items-center gap-2;
  }

  .hero-tag::before {
    content: 'â€¢';
    @apply text-lg leading-none text-primary;
  }

  .hero-metrics {
    @apply mt-[6px] grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-[14px];
  }

  .metric-card {
    @apply border border-border bg-white/5 px-4 pb-4 pt-[14px] shadow-sm backdrop-blur-[10px];
    border-radius: 18px 14px 16px 20px;
  }

  .metric-label {
    @apply mb-1 mt-0 text-[13px] uppercase tracking-[0.04em] text-text-muted;
  }

  .metric-value {
    @apply m-0 text-[26px] font-bold text-text-main;
  }

  .metric-caption {
    @apply mb-0 mt-1 text-sm text-text-secondary;
  }

  .hero-visual {
    @apply relative grid place-items-center gap-3 isolate;
  }

  .hero-photo {
    @apply relative z-[1] w-[min(480px,100%)] overflow-hidden border border-border bg-[linear-gradient(145deg,rgba(88,199,214,0.18),rgba(15,23,42,0.4))] shadow-[0_24px_60px_rgba(0,0,0,0.28)];
    aspect-ratio: 4 / 5;
    border-radius: 28px 22px 32px 24px;
    transform: rotate(-1.2deg);
  }

  .photo-glow {
    @apply absolute inset-0 z-0;
    background: radial-gradient(circle at 30% 20%, rgba(88, 199, 214, 0.24), transparent 36%),
      radial-gradient(circle at 80% 40%, rgba(62, 180, 195, 0.16), transparent 30%);
    filter: blur(16px);
  }

  .photo-ring {
    @apply absolute inset-4 z-[2] border border-dashed border-white/20;
    border-radius: 20px 16px 24px 18px;
  }

  .hero-image {
    @apply relative z-[1] block h-full w-full object-cover object-top;
    filter: saturate(1.05) contrast(1.02);
  }

  .floating-card {
    @apply absolute bottom-[22px] left-[-18px] z-[4] w-[240px] border border-border bg-slate-900/70 px-4 pb-[14px] pt-[14px] text-text-main shadow-[0_16px_32px_rgba(0,0,0,0.3)] backdrop-blur-xl;
    border-radius: 18px 14px 16px 20px;
    transform: rotate(1.4deg);
  }

  .floating-top {
    @apply mb-2 flex items-center justify-between;
  }

  .floating-time {
    @apply font-semibold text-text-secondary;
  }

  .floating-status {
    @apply text-[13px] font-bold uppercase tracking-[0.03em] text-primary;
  }

  .floating-title {
    @apply mb-[10px] mt-0 text-base font-bold text-text-main;
  }

  .floating-wave {
    @apply mb-[10px] flex h-[26px] items-end gap-1;
  }

  .floating-wave span {
    @apply flex-1 rounded-[6px_6px_2px_2px] bg-[linear-gradient(180deg,var(--color-primary)_0%,rgba(88,199,214,0.4)_100%)] animate-equalize;
  }

  .floating-wave span:nth-child(2) {
    animation-delay: 0.1s;
  }

  .floating-wave span:nth-child(3) {
    animation-delay: 0.2s;
  }

  .floating-wave span:nth-child(4) {
    animation-delay: 0.3s;
  }

  .floating-wave span:nth-child(5) {
    animation-delay: 0.4s;
  }

  .floating-wave span:nth-child(6) {
    animation-delay: 0.5s;
  }

  .floating-actions {
    @apply flex items-center justify-between gap-[10px];
  }

  .floating-note {
    @apply text-[13px] text-text-muted;
  }

  .floating-badge {
    @apply absolute right-[-12px] top-[10px] z-[4] inline-flex items-center gap-2 bg-white/90 px-[14px] py-[10px] text-sm font-bold text-slate-900 shadow-[0_12px_26px_rgba(0,0,0,0.2)];
    border-radius: 18px 24px 16px 22px;
    transform: rotate(-2deg);
  }

  .badge-dot {
    @apply h-[10px] w-[10px] rounded-full bg-success shadow-[0_0_0_6px_rgba(34,197,94,0.2)];
  }

  .section {
    @apply relative mx-auto w-full max-w-[1200px] px-6 py-16;
  }

  .hero + .section {
    margin-top: -72px;
    padding-top: calc(4rem + 72px);
  }

  .section.alt {
    @apply border-y border-border;
    background: linear-gradient(180deg, var(--color-bg-section), var(--color-bg-main));
  }

  .section-header {
    @apply mb-8 flex flex-wrap items-end justify-between gap-4;
  }

  .section-title {
    @apply m-0 text-[clamp(28px,3.6vw,40px)] font-bold leading-[1.08] text-text-main;
  }

  .section-link {
    @apply inline-flex items-center gap-2 rounded-xl border border-border bg-bg-card px-4 py-[9px] text-sm font-semibold text-text-secondary no-underline shadow-sm transition-all duration-200;
  }

  .section-link:hover {
    @apply -translate-y-px border-primary text-primary shadow-md;
  }

  .section-link:focus-visible {
    @apply outline outline-2 outline-offset-2 outline-primary-soft;
  }

  .episodes-grid {
    @apply grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] gap-5;
  }

  .episode-card {
    @apply relative flex min-h-[240px] flex-col gap-3 border border-border bg-bg-card p-5 text-text-main shadow-sm transition-all duration-200;
    border-radius: 18px 14px 20px 16px;
  }

  .episode-card:hover {
    @apply -translate-y-1 border-primary shadow-md;
  }

  .episode-card:focus-within {
    @apply border-primary outline outline-2 outline-offset-2 outline-primary-soft;
  }

  .episode-number {
    @apply mb-1 inline-flex w-fit rounded-full border border-primary bg-primary-soft px-[10px] py-[5px] text-xs font-bold uppercase tracking-[0.06em] text-primary;
  }

  .episode-title {
    @apply m-0 text-lg font-bold leading-[1.35] text-text-main;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .episode-guest {
    @apply m-0 text-sm font-semibold text-text-secondary;
    min-height: 1.5rem;
  }

  .episode-date {
    @apply mt-auto text-sm text-text-muted;
  }

  .play-btn {
    @apply absolute bottom-4 right-4 grid h-11 w-11 place-items-center rounded-full border border-primary bg-primary text-text-inverse shadow-sm transition-all duration-200;
  }

  .play-btn:hover {
    @apply -translate-y-px scale-[1.04] bg-primary-hover shadow-md;
  }

  .play-btn:focus-visible {
    @apply outline outline-2 outline-offset-2 outline-primary-soft;
  }

  .listen-grid {
    @apply grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] gap-5;
  }

  .listen-card {
    @apply relative flex min-h-[170px] flex-col border border-border bg-bg-card px-5 pb-5 pt-4 no-underline shadow-sm transition-all duration-200;
    border-radius: 18px 20px 16px 18px;
  }

  .listen-card:hover {
    @apply -translate-y-1 border-primary shadow-md;
  }

  .listen-card:focus-visible {
    @apply outline outline-2 outline-offset-2 outline-primary-soft;
  }

  .listen-top {
    @apply flex items-center gap-3;
  }

  .listen-icon {
    @apply grid h-11 w-11 place-items-center rounded-xl border bg-primary-soft text-primary;
    border-color: rgba(88, 199, 214, 0.35);
  }

  .listen-icon svg {
    @apply h-5 w-5;
  }

  .listen-platform {
    @apply text-[18px] font-bold text-text-main;
  }

  .listen-subtitle {
    @apply mt-3 text-sm font-semibold text-text-secondary;
  }

  .listen-action {
    @apply mt-auto inline-flex w-fit items-center rounded-full border border-border bg-white/5 px-3 py-1.5 text-sm font-semibold text-text-secondary transition-colors duration-200;
  }

  .listen-card:hover .listen-action {
    @apply border-primary text-primary;
  }

  .guests-grid {
    @apply grid grid-cols-4 gap-5;
  }

  .guest-card {
    @apply flex min-h-[300px] flex-col overflow-hidden border border-border bg-bg-card text-text-main no-underline shadow-sm transition-all duration-200;
    border-radius: 20px 16px 22px 18px;
  }

  .guest-card:hover {
    @apply -translate-y-1 border-primary shadow-md;
  }

  .guest-media {
    @apply relative h-[170px] border-b border-border bg-slate-900/50;
  }

  .guest-image {
    @apply h-full w-full object-cover;
  }

  .guest-avatar-fallback {
    @apply absolute inset-0 grid place-items-center bg-[radial-gradient(circle_at_20%_20%,rgba(88,199,214,0.4),rgba(15,23,42,0.95))] text-[40px] font-bold text-text-inverse;
  }

  .guest-content {
    @apply flex flex-1 flex-col px-5 pb-5 pt-4;
  }

  .guest-name {
    @apply m-0 text-lg font-bold leading-[1.25] text-text-main;
  }

  .guest-episode {
    @apply mt-2 text-sm font-semibold leading-[1.45] text-text-secondary;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .guest-date {
    @apply mt-auto pt-3 text-sm text-text-muted;
  }

  .guest-empty {
    @apply border border-dashed border-border bg-bg-card px-5 py-8 text-center text-text-secondary;
    border-radius: 16px 20px 14px 18px;
  }

  .final-cta {
    @apply pt-6;
  }

  .final-cta-card {
    @apply border border-border bg-bg-card px-[clamp(20px,4vw,42px)] py-[clamp(24px,4.5vw,40px)] shadow-md;
    border-radius: 26px 20px 30px 18px;
  }

  .final-cta-title {
    @apply m-0 max-w-[850px] text-[clamp(26px,4vw,40px)] font-bold leading-[1.08] text-text-main;
  }

  .final-cta-text {
    @apply mb-0 mt-3 max-w-[640px] text-lg text-text-secondary;
  }

  .final-cta-actions {
    @apply mt-6 flex flex-wrap gap-3;
  }

  .final-cta-link {
    @apply inline-flex items-center justify-center no-underline;
  }

}

@layer utilities {
  @media (max-width: 900px) {
    .hero {
      @apply px-[18px] pb-[84px] pt-16;
    }

    .section {
      @apply px-[18px] py-14;
    }

    .section-header {
      @apply mb-7 items-start;
    }

    .section-link {
      @apply text-[13px];
    }

    .episodes-grid {
      @apply grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-4;
    }

    .listen-grid,
    .guests-grid {
      @apply grid-cols-2;
    }

    .guest-card {
      @apply min-h-[280px];
    }

    .guest-media {
      @apply h-[160px];
    }

    .floating-card {
      @apply relative bottom-0 left-0 mt-[-38px];
    }

    .floating-badge {
      @apply relative right-0 top-0 mt-[-14px] self-end;
    }
  }

  @media (max-width: 640px) {
    .hero,
    .section {
      @apply px-[18px] py-14;
    }

    .section-header {
      @apply flex-col items-stretch gap-3;
    }

    .section-title {
      @apply text-[clamp(24px,6vw,32px)];
    }

    .section-link {
      @apply w-full justify-center text-center;
    }

    .episodes-grid {
      @apply grid-cols-1;
    }

    .listen-grid,
    .guests-grid {
      @apply grid-cols-1;
    }

    .episode-card {
      @apply min-h-[225px] p-[18px];
    }

    .guest-card,
    .listen-card {
      @apply min-h-[unset];
    }

    .guest-media {
      @apply h-[200px];
    }

    .play-btn {
      @apply h-10 w-10;
    }

    .final-cta-actions {
      @apply flex-col;
    }

    .final-cta-actions .btn,
    .final-cta-link {
      @apply w-full;
    }
  }
}
